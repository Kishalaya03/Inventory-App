<h1 class="mt-5 mb-4">Search Results</h1>

<% if (searchTerm) { %>
<div class="alert alert-info">
  <strong>Search Term:</strong> "<%= searchTerm %>"
</div>
<% } %> <% if (message) { %>
<div class="alert alert-warning"><%= message %></div>
<% } %> <% if (products && products.length > 0) { %>
<div class="alert alert-success">
  Found <%= products.length %> product(s) matching your search.
</div>

<table class="table table-dark">
  <thead>
    <tr>
      <th scope="col">ID</th>
      <th scope="col">Name</th>
      <th scope="col">Description</th>
      <th scope="col">Price</th>
      <th scope="col">Image</th>
      <th scope="col">Actions</th>
    </tr>
  </thead>
  <tbody>
    <% products.forEach(product => { %>
    <tr>
      <th><%= product.id %></th>
      <td><%= product.name %></td>
      <td><%= product.desc %></td>
      <td scope="col">$<%= product.price %></td>
      <td>
        <img
          src="<%= product.imageUrl %>"
          alt="<%= product.name %>"
          style="width: 50px; height: 70px; object-fit: cover"
        />
      </td>
      <td>
        <a
          href="/update-product/<%= product.id %>"
          class="btn btn-warning btn-sm"
          >Update</a
        >
        <button
          class="btn btn-danger btn-sm"
          onclick="deleteProduct('<%= product.id %>')"
        >
          Delete
        </button>
      </td>
    </tr>
    <% }); %>
  </tbody>
</table>
<% } %>

<div class="mt-4">
  <a href="/" class="btn btn-primary">Back to All Products</a>
  <a href="/new" class="btn btn-success">Add New Product</a>
</div>
